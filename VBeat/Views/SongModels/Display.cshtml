@using Microsoft.CodeAnalysis.CSharp.Syntax
@model IEnumerable<VBeat.Models.SongModel>

@{
    ViewData["Title"] = "Index";
}

<section id="new-releases">
    <div class="container">
        <div><h1>New Releases</h1></div>

        <div class="middle-Class">
            <div id="myCarousel" class="carousel slide" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    @for (int i = 1; i < (int)ViewData["NUM_NEW_RELEASES"]; i++)
                    {
                        <li data-target="#myCarousel" data-slide-to="@i"></li>
                    }
                    <!--Initialization-->
                    @{
                        IEnumerable<SongModel> list = (IEnumerable<SongModel>)ViewData["NEW_RELEASES"];
                    }
                    <!--Create dots-->

                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner">
                    <div class="item active">
                        @if ((int)ViewData["NUM_NEW_RELEASES"] == 0)
                        {
                            <p>No songs to be displayed </p>
                            return;
                        }      
                        <img src="@list.ElementAt(0).SongImagePath" alt="No Image Found" style="width: 100%; height: 500px">
                        <div class="carousel-caption">
                            <h3>@list.ElementAt(0).SongName</h3>
                        </div>  
                    </div>
                    @{
                        for (int i = 1; i < (int)ViewData["NUM_NEW_RELEASES"]; i++)
                        {
                            <div class="item">
                                <img src="@list.ElementAt(i).SongImagePath" alt="No Image Found" style="width: 100%; height: 500px">
                                <div class="carousel-caption">
                                    <h3>@list.ElementAt(i).SongName</h3>
                                </div>
                            </div>
                        }
                    }
                </div>

                <!-- Left and right controls -->
                <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" data-slide="next">
                    <span class="glyphicon glyphicon-chevron-right"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>
</section>

<section id="search-songs">
    <div class="container">
        <span><a class="btn btn-primary" asp-action="Search">Search For Songs</a></span>
    </div>
</section>

<section id="recently-played">
    <div class="middle-container">
        <h1>Recently Played</h1>
        <div class="row">
            @foreach (var item in (IEnumerable<SongModel>)ViewData["NEW_RELEASES"])
            {
                <div class="col-md-3 col-sm-4 col-xs-6">
                    <div class="frontpage_square" style="background-image:url('@Html.DisplayFor(modelItem => item.SongImagePath)')">
                    </div>
                </div>
            }
        </div>

    </div>
</section>

